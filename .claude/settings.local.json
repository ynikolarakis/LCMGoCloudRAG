{
  "permissions": {
    "allow": [
      "mcp__plugin_context7_context7__resolve-library-id",
      "mcp__plugin_context7_context7__query-docs",
      "Bash(cd:*)",
      "Bash(cat:*)",
      "Bash(echo:*)",
      "Bash(cd \"E:/LCMGoCloudRAG\" && docker compose -f docker/docker-compose.dev.yml up -d 2>&1)",
      "Bash(head:*)",
      "Bash(tail:*)",
      "Bash(which python3 2>/dev/null || which python 2>/dev/null; pip3 --version 2>/dev/null || pip --version 2>/dev/null)",
      "Bash(python3 --version 2>&1 && python3 -m pip --version 2>&1)",
      "Bash(cd \"E:/LCMGoCloudRAG\" && python3 -m ruff check backend/ 2>&1)",
      "Bash(cd \"E:/LCMGoCloudRAG\" && python3 -m ruff format --check backend/ 2>&1)",
      "Bash(cd \"E:/LCMGoCloudRAG\" && python3 -m ruff format backend/ 2>&1)",
      "Bash(cd \"E:/LCMGoCloudRAG\" && PYTHONPATH=backend python3 -m pytest tests/ -x -v 2>&1)",
      "Bash(cd \"E:/LCMGoCloudRAG\" && python3 -m ruff check backend/ 2>&1 && python3 -m ruff format --check backend/ 2>&1)",
      "Bash(echo \"Waiting for services to be healthy...\" && sleep 5 && docker compose -f \"E:/LCMGoCloudRAG/docker/docker-compose.dev.yml\" ps 2>&1)",
      "Bash(cd \"E:/LCMGoCloudRAG/backend\" && PYTHONPATH=. python3 -m alembic revision --autogenerate -m \"initial schema: users, documents, chunks, queries, responses, audit_logs\" 2>&1)",
      "Bash(rm \"E:/LCMGoCloudRAG/backend/alembic/versions/e45cbb391c31_initial_schema_users_documents_chunks_.py\" && cd \"E:/LCMGoCloudRAG/backend\" && PYTHONPATH=. python3 -m alembic revision --autogenerate -m \"initial schema: users, documents, chunks, queries, responses, audit_logs\" 2>&1)",
      "Bash(cd \"E:/LCMGoCloudRAG/backend\" && PYTHONPATH=. python3 -m alembic upgrade head 2>&1)",
      "Bash(docker exec:*)",
      "Bash(python3:*)",
      "Bash(curl:*)",
      "Bash(cd \"E:/LCMGoCloudRAG\" && PYTHONPATH=backend python3 -m pytest tests/ -v 2>&1)",
      "Bash(cd \"E:/LCMGoCloudRAG\" && git add backend/alembic/env.py backend/alembic/versions/ && git status 2>&1)",
      "Bash(pkill:*)",
      "Bash(taskkill:*)",
      "Bash(cd \"E:/LCMGoCloudRAG/backend\" && PYTHONPATH=. python3 -c \"\nfrom app.pipelines.ingestion import parse_document\ntext, pages = parse_document\\('E:/LCMGoCloudRAG/test_document.pdf'\\)\nprint\\(f'Pages: {pages}'\\)\nprint\\(f'Text length: {len\\(text\\)}'\\)\nprint\\(text[:500]\\)\n\" 2>&1)",
      "Bash(cd \"E:/LCMGoCloudRAG/backend\" && PYTHONPATH=. python3 -c \"\nfrom app.pipelines.ingestion import ingest_document\ndocs = ingest_document\\('E:/LCMGoCloudRAG/test_document.pdf', 'test_document.pdf', 'default'\\)\nprint\\(f'Chunks indexed: {len\\(docs\\)}'\\)\nfor d in docs:\n    print\\(f'  - chunk_seq={d.meta[\\\\\"chunk_seq\\\\\"]}, tokens={d.meta[\\\\\"token_count\\\\\"]}'\\)\n\" 2>&1)",
      "Bash(cd \"E:/LCMGoCloudRAG/backend\" && PYTHONPATH=. python3 -c \"\nfrom app.pipelines.query import query_documents\nresult = query_documents\\('What features does the DocIntel platform provide?', 'default'\\)\nprint\\('Answer:', result['answer'][:500]\\)\nprint\\(\\)\nprint\\('Citations:', result['citations']\\)\nprint\\('Model:', result['model_used']\\)\nprint\\('Latency:', result['latency_ms'], 'ms'\\)\nprint\\('Retrieved docs:', result['retrieved_docs']\\)\n\" 2>&1)",
      "Bash(grep:*)",
      "Bash(cd E:/LCMGoCloudRAG && python -m pytest tests/unit/test_config.py -v 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && PYTHONPATH=backend python -m pytest tests/unit/test_config.py -v 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && PYTHONPATH=backend python -m pytest tests/ -v 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && ruff check backend/app/config.py tests/unit/test_config.py && ruff format --check backend/app/config.py tests/unit/test_config.py 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && python -m ruff check backend/app/config.py tests/unit/test_config.py && python -m ruff format --check backend/app/config.py tests/unit/test_config.py 2>&1)",
      "Bash(python:*)",
      "Bash(cd /e/LCMGoCloudRAG && PYTHONPATH=/e/LCMGoCloudRAG/backend python -m pytest tests/unit/test_auth.py -v 2>&1)",
      "Bash(cd /e/LCMGoCloudRAG && PYTHONPATH=/e/LCMGoCloudRAG/backend python -m pytest tests/ -v 2>&1)",
      "Bash(cd /e/LCMGoCloudRAG && ruff check backend/app/auth.py backend/app/main.py tests/unit/test_auth.py 2>&1)",
      "Bash(cd /e/LCMGoCloudRAG && git add backend/app/auth.py backend/app/main.py tests/unit/test_auth.py pyproject.toml && git commit -m \"$\\(cat <<'EOF'\nfeat: add auth dependency with dev bypass, seed user, and RoleChecker\n\nImplements the auth layer for Task 2: a dev-mode bypass that returns a\nsynthetic ADMIN user \\(no DB hit\\), a prod placeholder that raises AuthError,\na dispatcher that switches on ENVIRONMENT, seed_dev_user\\(\\) called in the\nFastAPI lifespan on startup, and RoleChecker enforcing the four-tier role\nhierarchy \\(ADMIN 40 > MANAGER 30 > USER 20 > VIEWER 10\\).\n\nCo-Authored-By: Claude Sonnet 4.6 <noreply@anthropic.com>\nEOF\n\\)\" 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && PYTHONPATH=backend python -m pytest tests/unit/test_audit.py -v 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && ruff check backend/app/audit.py tests/unit/test_audit.py && ruff format --check backend/app/audit.py tests/unit/test_audit.py 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && ruff check backend/app/celery_app.py backend/app/tasks/__init__.py tests/unit/test_celery_config.py && ruff format --check backend/app/celery_app.py backend/app/tasks/__init__.py tests/unit/test_celery_config.py 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && PYTHONPATH=backend python -m pytest tests/unit/test_auth_wiring.py -v 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && PYTHONPATH=backend ruff check backend/app/api/v1/documents.py backend/app/api/v1/query.py tests/unit/test_auth_wiring.py && ruff format --check backend/app/api/v1/documents.py backend/app/api/v1/query.py tests/unit/test_auth_wiring.py 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && PYTHONPATH=backend python -m pytest tests/unit/test_upload_persistence.py -v 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && ruff check backend/app/api/v1/documents.py backend/app/schemas/document.py backend/app/schemas/__init__.py tests/unit/test_upload_persistence.py && ruff format --check backend/app/api/v1/documents.py backend/app/schemas/document.py backend/app/schemas/__init__.py tests/unit/test_upload_persistence.py 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && PYTHONPATH=backend python -m ruff check backend/app/api/v1/documents.py backend/app/schemas/document.py backend/app/schemas/__init__.py tests/unit/test_upload_persistence.py && python -m ruff format --check backend/app/api/v1/documents.py backend/app/schemas/document.py backend/app/schemas/__init__.py tests/unit/test_upload_persistence.py 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && ruff check backend/app/api/v1/query.py tests/unit/test_query_persistence.py && ruff format --check backend/app/api/v1/query.py tests/unit/test_query_persistence.py 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && ruff check backend/app/pipelines/ingestion.py tests/unit/test_chunk_persistence.py && ruff format --check backend/app/pipelines/ingestion.py tests/unit/test_chunk_persistence.py 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && git add backend/app/pipelines/ingestion.py tests/unit/test_chunk_persistence.py && git commit -m \"$\\(cat <<'EOF'\nfeat: add create_document_chunks for DB persistence during ingestion\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\" 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && ruff check backend/app/tasks/ingestion.py tests/unit/test_ingest_task.py && ruff format --check backend/app/tasks/ingestion.py tests/unit/test_ingest_task.py 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && ruff check backend/app/api/v1/documents.py tests/unit/test_document_crud.py && ruff format backend/app/api/v1/documents.py tests/unit/test_document_crud.py 2>&1)",
      "Bash(python3 -c \"import sys; print\\(sys.executable, sys.version\\)\" 2>/dev/null || /c/Users/necro/AppData/Local/Python/bin/python.exe -c \"import sys; print\\(sys.executable, sys.version\\)\" 2>/dev/null)",
      "Bash(cd E:/LCMGoCloudRAG && git add backend/app/auth.py tests/unit/test_jwt_validation.py backend/requirements.txt && git commit -m \"$\\(cat <<'EOF'\nfeat: add Keycloak JWT validation with JWKS caching\n\nImplements real get_current_user_prod with Bearer token extraction,\n1-hour cached JWKS fetch from Keycloak, RS256 JWT decode via python-jose,\nclaim validation \\(exp, iss, sub\\), and DB user lookup by keycloak_id.\nAdds python-jose[cryptography] to requirements.txt.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\" 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && ruff check backend/ tests/ 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && docker compose -f docker/docker-compose.dev.yml ps 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG && docker compose -f docker/docker-compose.dev.yml restart keycloak 2>&1)",
      "Bash(cd E:/LCMGoCloudRAG/backend && PYTHONPATH=. python -c \"\nfrom app.main import app\nfor route in app.routes:\n    if hasattr\\(route, 'path'\\):\n        methods = getattr\\(route, 'methods', set\\(\\)\\)\n        print\\(f'{methods} {route.path}'\\)\n\" 2>&1)",
      "Bash(tasklist:*)",
      "Bash(echo Cannot check port:*)",
      "Bash(echo No test PDFs found:*)",
      "Bash(cd E:/LCMGoCloudRAG && PYTHONPATH=backend python -m pytest tests/ -v --tb=short 2>&1)"
    ]
  }
}
